@(user: User, criteria: List[Criterion], projects: List[Project], voteForm: Form[Ballot])

@import helper._

@main("Vote") {
	<h1>Vote.scala.html</h1>
	<p>Logged in as @user.username</p>
	@form(routes.Application.logout()) {
		<input class="btn" type="submit" value="Logout">
	}
	<h3>All Questions (Criteria)</h3>
	@for(criterion <- criteria) {
		@helper.form(routes.Votes.vote()) {
			<p>@criterion.question</p>
			<input name="user_username" value="@user.username" type="hidden">
			<input name="criterion_id" value="@criterion.id" type="hidden">
			@if(criterion.ballotRemainder(user)<user.role.getBallot()) {
				<p>Ballot remainder: @(user.role.getBallot() - criterion.ballotRemainder(user))</p>
				<select name="project_id">
					@for(project <- projects) {
						<option value="@project.id">@project.name</option>
					}
				</select>
				<p><input class="btn btn-primary" type="submit" value="Vote"></p>
			} else {
				<p>You already use Ballot for this criterion</p>
				<p><input class="btn btn-primary" type="submit" value="Vote" disabled="disabled"></p>
			}
		}
	}
}